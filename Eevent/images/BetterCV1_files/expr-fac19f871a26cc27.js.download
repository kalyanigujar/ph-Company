!function(){try{var e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},t=Error().stack;t&&(e._sentryDebugIds=e._sentryDebugIds||{},e._sentryDebugIds[t]="bf9946da-fa90-4c0c-ad42-a6fedc28b2ba",e._sentryDebugIdIdentifier="sentry-dbid-bf9946da-fa90-4c0c-ad42-a6fedc28b2ba")}catch(e){}}(),(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1404],{33643:function(e,t,r){(window.__NEXT_P=window.__NEXT_P||[]).push(["/resume/section/expr",function(){return r(3054)}])},3054:function(e,t,r){"use strict";r.r(t),r.d(t,{__N_SSP:function(){return eg},default:function(){return ew}});var a=r(24463),n=r(79978),o=r(57927),l=r(75202),s=r(95906),i=r(89192),d=r(56173),c=r(604),u=r(15952),p=r(37588),m=r(16821),_=r(55213),x=r(20873),y=r(70142),h=r(24173),b=r(59572),I=r(86315),f=r(27981),g=r(41102),w=r(32486),v=r(44357);let j=()=>{let e=(0,u.CG)(c.E.selectors.getTitle),{t}=(0,f.$)("stepper"),{value:r}=(0,I.f)(b.r8),n=r===h.i;return(0,a.jsx)(g.r,{id:v.M.exprId,children:(0,a.jsx)(w.D,{id:v.M.exprId,title:n?e:t(e),updateTitle:c.E.actions.updateTitle})})};var D=r(64849),E=r(7869),k=r(96187),T=r(47742),C=r(40322);let F=T.Ry().shape({workHistoryItems:T.IX().of(T.Ry().shape({location:T.Z_(),startDate:T.Z_().nullable().when("endDate",(e,t)=>{let[r]=e;return r?t.required("In order to proceed, you must enter a start date"):t.notRequired()}),endDate:T.Z_().nullable(),workSummary:T.Z_(),jobTitle:T.Z_().when(["location","startDate","endDate","workSummary","employer"],(e,t)=>{let[r,a,n,o,l]=e;return r||a||n||!(0,C.u)(o)||l?t.required("In order to proceed, you must enter a job title"):t.notRequired()}),employer:T.Z_()}))}),N=()=>{let e=(0,u.CG)(c.E.selectors.getSavedFields),t=(0,u.TL)(),r=(0,i.useRef)([]),{register:a,handleSubmit:n,formState:{errors:o},setValue:l,control:s,getValues:d,trigger:p,reset:m,setFocus:_,watch:x}=(0,E.cI)({resolver:(0,k.X)(F),mode:"onTouched",defaultValues:{workHistoryItems:e}}),{fields:y,append:h,remove:b,move:I}=(0,E.Dq)({control:s,name:"workHistoryItems"});return(0,i.useEffect)(()=>{e&&m({workHistoryItems:e})},[e,m]),(0,i.useEffect)(()=>{r.current=y},[y]),x((e,a)=>{var n;let{name:o}=a,[l,s]=null!==(n=null==o?void 0:o.split("."))&&void 0!==n?n:["",""];if(e.workHistoryItems&&o&&s)return t(c.E.actions.updateField({index:Number(s),updatedField:e.workHistoryItems[+s]}));r.current.length>y.length&&t(c.E.actions.updateFieldListAfterRemoved(e.workHistoryItems))}),{register:a,handleSubmit:n,errors:o,setValue:l,getValues:d,trigger:p,setFocus:_,fields:y,append:h,remove:b,move:I}},S={jobTitle:"",employer:"",location:"",startDate:void 0,endDate:void 0,workSummary:""},R="jobTitle",Y="employer",H="location",M="San Francisco, CA, USA",P={id:"startDate",label:"Start date",placeholder:"MM/YYYY"},W="endDate",B="MM/YYYY",L="workSummary",O="• Helped with monthly financial reports and data entry\n• Watched over team budgets and reported issues\n• Entered 150+ invoices weekly using accounting software",Z={jobTitle:"Job title",employer:"Employer",location:M,startDate:P.placeholder,endDate:B,workSummary:O};var q=r(87231),z=r(67366),V=r(89253);let A=(e,t,r)=>{let a=(0,u.CG)(q.L.selectors.getFunnelType),n=(0,u.CG)(z.Y.selectors.getCurrentSubscriptionStatusForAnalytic),o=(0,u.CG)(c.E.selectors.getTitle),l=(0,u.TL)();return{onSubmitCallback:e(e=>{let t=e.workHistoryItems.reduce((e,t)=>(e.jobTitle+="".concat(t.jobTitle,","),e.employer+="".concat(t.employer,","),e),{jobTitle:"",employer:""});p.a.sendEvent({name:"expr_click_complete_step",params:{...t,funnel_type:a,subscription_status:n}}),l(c.E.actions.deleteSection(!1)),l((0,V.F8)({key:b.Xb})),l((0,V.Ee)({key:b.RY,value:e.workHistoryItems})),l((0,V.Ee)({key:b.r8,value:o})),null==r||r(!0)},async()=>{throw null==r||r(!0),await t(),Error("Form validation failed")})}};var X=r(98452),G=r.n(X),J=r(9878),Q=r(16891),U=r(73915),$=r(50451),K=r(44101),ee=r(72871),et=r(19597),er=r(21297),ea=r(80001),en=r(72952),eo=r(337),el=r(57254),es=r(94384),ei=r(62610),ed=r(53670);let ec=e=>{let{currentValues:t}=e;if(!t.employer&&!t.jobTitle&&!t.startDate&&null==t.endDate)return{isPlaceholdered:!0,jobTitle:Z.jobTitle,empoyer:Z.employer,startDate:Z.startDate,endDate:Z.endDate,isFullDate:!0,isFirstRow:!0,isSecondRow:!0,isComaFirstRow:!0};let r=t.startDate?(0,ed.p)(t.startDate,"MMM YYYY"):null,a="Current"===t.endDate?t.endDate:t.endDate?(0,ed.p)(t.endDate,"MMM YYYY"):null;return{isPlaceholdered:!1,jobTitle:t.jobTitle||null,empoyer:t.employer||null,startDate:r,endDate:a,isFullDate:!!r&&!!a,isComaFirstRow:!!t.jobTitle&&!!t.employer,isFirstRow:!!t.employer||!!t.jobTitle,isSecondRow:!!r||!!a}},eu=(e,t,r)=>{let a="workHistoryItems.".concat(r,".").concat(R),n="workHistoryItems.".concat(r,".").concat(Y),o="workHistoryItems.".concat(r,".").concat(H),l="workHistoryItems.".concat(r,".").concat(P.id),s="workHistoryItems.".concat(r,".").concat(W),i="workHistoryItems.".concat(r,".").concat(L),d=e(a),c=e(n),u=e(o),p=e(i),m=t["workHistoryItems[".concat(r,"].").concat(R)],_=t["workHistoryItems[".concat(r,"].").concat(Y)],x=t["workHistoryItems[".concat(r,"].").concat(H)];return{paths:{jobTitle:a,employer:n,location:o,startDate:l,endDate:s,summary:i},registeredFields:{jobTitle:d,employer:c,location:u,summary:p},fieldErrors:{jobTitle:m,employer:_,startDate:t["workHistoryItems[".concat(r,"].").concat(null==P?void 0:P.id)],location:x}}};var ep=r(90821),em=r(53950),e_=r(64413),ex=r.n(e_);let ey=e=>{var t,r,n,o;let{index:l,register:s,setValue:c,remove:m,errors:x,trigger:y,getValues:h,isSubmitted:b,openIndex:I,setCurrentItemIndex:g,id:w,isDraggable:v}=e,[j,D]=(0,i.useState)(!1),E=(0,i.useRef)(null),k=(0,u.TL)(),[T,C]=(0,i.useState)(!1),F=(0,i.useRef)(null),{t:N}=(0,f.$)("expr"),S=(0,J.q_)({from:{transform:"translateY(200%)"},to:{transform:"translateY(0%)"}}),R=l===I,{isMobile:Y}=(0,$.F)(),{registeredFields:H,fieldErrors:Z,paths:q}=eu(s,x,l),{attributes:z,listeners:V,setNodeRef:A,transform:X,transition:ed,isDragging:e_}=(0,d.nB)({id:w}),ey=h(q.startDate),eh=h(q.endDate);(0,i.useEffect)(()=>{ey&&eh&&"Current"!==eh&&new Date(ey)>new Date(eh)&&(c(q.endDate,null),y(q.endDate))},[ey,eh]);let eb=ec({currentValues:{jobTitle:h(q.jobTitle),employer:h(q.employer),startDate:h(q.startDate),endDate:h(q.endDate)}}),eI=e=>e&&!eb.isPlaceholdered?e:N(e||"");return(0,a.jsxs)(J.q.div,{ref:A,className:G()(ex().draggableItem,{[ex().dragging]:e_}),style:0===l?{transform:X?"translate(".concat(X.x,"px, ").concat(X.y,"px)"):void 0,transition:ed,position:"relative"}:{...S,transform:X?"translate(".concat(X.x,"px, ").concat(X.y,"px)"):void 0,transition:ed,position:"relative"},children:[(0,a.jsxs)("div",{className:ex().wrapper,children:[(0,a.jsxs)("div",{className:ex().headerWrapper,onClick:()=>{if(R){g(null);return}g(l)},children:[v&&(0,a.jsx)(eo.u,{content:N("Click and drag to move"),hidden:e_,children:(0,a.jsx)(_.z,{variant:"text",className:G()(ex().dragButton,{[ex().isDragging]:e_}),...z,...V,children:(0,a.jsx)(et.Z,{className:ex().dragIcon})})}),(0,a.jsxs)("div",{className:ex().header,onClick:()=>{if(R){g(null);return}g(l)},children:[(0,a.jsxs)("div",{className:ex().leftSide,children:[eb.isFirstRow&&(0,a.jsxs)("p",{className:G()(ex().headerText,{[ex().placeholdered]:eb.isPlaceholdered}),children:[eI(eb.jobTitle),eb.isComaFirstRow&&", ",eI(eb.empoyer)]}),eb.isSecondRow&&(0,a.jsxs)("p",{className:G()(ex().headerText,{[ex().placeholdered]:eb.isPlaceholdered}),children:[N(eb.startDate||""),eb.isFullDate&&" - ",N(eb.endDate||"")]})]}),Object.values(Z).some(e=>!!e)&&(0,a.jsx)(er.Z,{className:ex().errorIcon}),(0,a.jsxs)("div",{className:ex().buttonsWrapper,children:[(0,a.jsx)(_.z,{className:ex().headerButton,variant:"text",children:(0,a.jsx)(Q.Z,{className:G()(ex().buttonIcon,{[ex().opened]:R})})}),(0,a.jsx)(eo.u,{content:N("Delete"),hidden:T,children:(0,a.jsx)(_.z,{className:ex().headerButton,variant:"text",onClick:e=>{e.stopPropagation(),C(!0)},children:(0,a.jsx)(U.Z,{className:G()(ex().buttonIcon,ex().deleteIcon)})})})]})]})]}),(0,a.jsx)(el.z,{isOpen:R,children:(0,a.jsxs)("div",{className:ex().body,ref:E,children:[(0,a.jsx)(en.s,{...H.jobTitle,autoFocus:0===l,label:N("Job title"),placeholder:N("Junior Accountant"),maxLength:50,error:N(null===(t=Z.jobTitle)||void 0===t?void 0:t.message),isCorrect:!Z.jobTitle&&!!h(q.jobTitle),onFocus:()=>{p.a.sendEvent({name:"expr_click_job_title"})},onBlur:async()=>{if(b){await y();return}await y(q.jobTitle)},"data-test-e2e":"".concat(ea.z.EXPERIENCE_JOB_TITLE,"-").concat(l)}),(0,a.jsx)(en.s,{...H.employer,label:N("Employer"),placeholder:N("Company name"),maxLength:50,error:N(null===(r=Z.employer)||void 0===r?void 0:r.message),isCorrect:!Z.employer&&!!h(q.employer),onFocus:()=>{p.a.sendEvent({name:"expr_click_employer"})},onBlur:async()=>{await y(q.employer)},"data-test-e2e":"".concat(ea.z.EXPERIENCE_EMPLOYER,"-").concat(l)}),(0,a.jsx)(en.s,{...H.location,label:N("Location"),placeholder:N(M),maxLength:50,error:N(null===(n=Z.location)||void 0===n?void 0:n.message),isCorrect:!Z.location&&!!h(q.location),onFocus:()=>{p.a.sendEvent({name:"expr_click_location"})},onBlur:async()=>{await y(q.location)},"data-test-e2e":"".concat(ea.z.EXPERIENCE_LOCATION,"-").concat(l)}),(0,a.jsxs)("div",{className:ex().datesWrapper,children:[(0,a.jsx)(es.Z,{id:P.id,label:N(P.label),placeholderText:N(P.placeholder),selected:ey?new Date(ey):null,isInvalid:!!Z.startDate,errorText:N(null===(o=Z.startDate)||void 0===o?void 0:o.message),showMonthYearPicker:!0,autoComplete:"off",dateFormat:N("MM/yyyy"),withPortal:Y,onChange:async e=>{let t=e?e.toISOString():null;if(c(q.startDate,t),b){await y();return}await y(q.startDate)},onFocus:e=>{Y&&e.target.blur(),p.a.sendEvent({name:"expr_click_start_date"})}}),(0,a.jsx)("span",{className:ex().dash,children:"–"}),(0,a.jsx)(es.Z,{id:W,label:N("End date"),placeholderText:N(B),selected:eh&&"Current"!==eh?new Date(eh):null,showMonthYearPicker:!0,minDate:ey?new Date(ey):void 0,dateFormat:N("MM/yyyy"),autoComplete:"off",withPortal:Y,currentButtonProps:{currentButtonText:N("Currently work here"),isSelected:j,selectionCallback:()=>{p.a.sendEvent({name:"expr_click_current_date"})},onSelect:async()=>{if(D(e=>!e),c(q.endDate,j?null:"Current"),b){await y();return}await y(q.endDate)}},onChange:async e=>{let t=e?e.toISOString():null;if(c(q.endDate,t),b){await y();return}await y(q.endDate)},onFocus:e=>{Y&&e.target.blur(),p.a.sendEvent({name:"expr_click_end_date"})}})]}),(0,a.jsx)("div",{className:ex().editorWrapper,children:(0,a.jsx)(ei.B,{ref:F,name:L,label:N("Description"),placeholder:N(O),maxLength:3e3,defaultValue:h(q.summary),onChange:e=>{c(q.summary,e)},onBlur:async()=>{if(b){await y();return}await y(q.summary)},onFocus:()=>{p.a.sendEvent({name:"expr_click_summary"})},toolbarEndContent:(0,a.jsx)(ep.r,{disabled:!h(q.jobTitle),aiRequest:()=>{k((0,K.aE)({jobTitle:h(q.jobTitle),id:"".concat(l)})),p.a.sendEvent({name:"ai_experience_click"})},onClick:async e=>{var t;let r=null===(t=F.current)||void 0===t?void 0:t.getEditor();if(!r)return;r.history.cutoff();let a=r.getLength()-1;r.clipboard.dangerouslyPasteHTML(a,"<ul><li>".concat(e,"</li></ul>"),"user"),c(q.summary,r.root.innerHTML),b?await y():await y(q.summary),r.history.cutoff(),r.blur()},currentAiSuggestion:ee.b.selectors.getExperienceAiSuggestion,isOpen:R,stage:"experience"})})})]})})]}),(0,a.jsx)(em.s,{isOpen:T,onConfirm:()=>m(l),onRequestClose:()=>C(!1),text:N("Would you like to delete this summary?")})]})};var eh=r(88457),eb=r(93790),eI=r.n(eb);let ef=()=>{let{t:e}=(0,f.$)("expr"),t=(0,u.TL)(),[r,n]=(0,i.useState)(0),o=(0,i.useRef)(null),l=(0,i.useRef)(null),[s,h]=(0,i.useState)(!1),{register:b,handleSubmit:I,setValue:g,getValues:w,trigger:E,remove:k,append:T,fields:C,move:F,errors:R,setFocus:Y}=N(),{onSubmitCallback:H}=A(I,E,h);(0,i.useEffect)(()=>()=>{t(c.E.actions.saveSaveFieldFromFields())},[t]);let M=e=>{k(e)};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:eI().topPart,children:[(0,a.jsx)(eh.v,{id:v.M.exprId}),(0,a.jsx)(j,{}),!!C.length&&(0,a.jsx)("div",{className:eI().itemsWrapper,children:(0,a.jsx)(m.D,{onDragEnd:e=>{let{active:r,over:a}=e;if(!a||r.id===a.id)return;let s=C.findIndex(e=>e.id===r.id),i=C.findIndex(e=>e.id===a.id);F(s,i);let u=(0,d.Rp)(C,s,i);t(c.E.actions.updateDraggedFields(u)),l.current===r.id?n(u.findIndex(e=>e.id===r.id)):null!=o.current&&n(u.findIndex(e=>e.id===o.current)),l.current=null,o.current=null},sections:C,onDragStart:e=>{let{active:t}=e;p.a.sendEvent({name:"expr_click_drag_drop"}),o.current=null!==r?C[r].id:null,t.id===o.current?(l.current=t.id,n(null)):l.current=null},children:C.map((e,t)=>(0,a.jsx)(ey,{setFocus:Y,index:t,isSubmitted:s,id:e.id,register:b,setValue:g,errors:R,remove:M,trigger:E,getValues:w,openIndex:r,setCurrentItemIndex:n,isDraggable:C.length>1},e.id))})}),(0,a.jsx)("div",{className:eI().buttonWrapper,children:C.length<y.iC&&(0,a.jsxs)(_.z,{variant:"text",size:"small",onClick:()=>{p.a.sendEvent({name:"expr_click_add_work"}),t(c.E.actions.addedListItem(S)),T(S),n(C.length)},className:eI().addedButton,children:[(0,a.jsx)(x.Z,{className:eI().plus}),e("Add work experience")]})})]}),(0,a.jsx)(D.C,{id:v.M.exprId,submitCallback:H})]})};var eg=!0,ew=()=>((0,o.P)(),(0,n.H)(),(0,s.m)("expr_view"),(0,a.jsx)(l.r,{children:(0,a.jsx)(ef,{})}))},64413:function(e){e.exports={draggableItem:"experienceItem_draggableItem__btXOt",dragging:"experienceItem_dragging__kFunp",dragButton:"experienceItem_dragButton__3aSKv",headerWrapper:"experienceItem_headerWrapper__hqKVE",wrapper:"experienceItem_wrapper__BhOr9",dragIcon:"experienceItem_dragIcon__DoxkF",header:"experienceItem_header__4Y555",buttonIcon:"experienceItem_buttonIcon__NRoMd",deleteIcon:"experienceItem_deleteIcon__J6g7W",headerText:"experienceItem_headerText__2QQze",placeholdered:"experienceItem_placeholdered__djHt8",buttonsWrapper:"experienceItem_buttonsWrapper__7U7NJ",headerButton:"experienceItem_headerButton__qfDSZ",opened:"experienceItem_opened__uYYd8",bodyWrapper:"experienceItem_bodyWrapper__FnGPO",visible:"experienceItem_visible__VeGdm",body:"experienceItem_body__D0Ze3",datesWrapper:"experienceItem_datesWrapper__13cEJ",dash:"experienceItem_dash__Q5mdV",editorWrapper:"experienceItem_editorWrapper__GOTuU",errorIcon:"experienceItem_errorIcon__ahzI8"}},93790:function(e){e.exports={topPart:"expr_topPart__aI1ES",itemsWrapper:"expr_itemsWrapper__VnOu_",addedButton:"expr_addedButton__wmxZQ",plus:"expr_plus___Q2hV",buttonWrapper:"expr_buttonWrapper__Bt_sN"}}},function(e){e.O(0,[2258,2058,1217,4787,841,4754,3309,7879,9878,2389,2978,7959,8818,321,4785,6050,8969,9411,7949,3455,2888,9774,179],function(){return e(e.s=33643)}),_N_E=e.O()}]);